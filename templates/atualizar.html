<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Atualizar {{ tipo|capitalize }} - Pirataflix</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style_atualizar.css') }}" />
</head>
<body>
    <div class="menu">
        <a href="{% if tipo == 'filme' %}{{ url_for('detalhes_filme', id=item.id) }}{% else %}{{ url_for('detalhes_serie', id=item.id) }}{% endif %}" class="logo">Pirataflix</a>
            <!-- <div class="links">
                <a href="{{ url_for('home') }}">Home</a>
                <a href="{{ url_for('listar_filmes') }}" {% if tipo == 'filme' %}class="ativo"{% endif %}>Filmes</a>
            <a href="{{ url_for('listar_series') }}" {% if tipo == 'serie' %}class="ativo"{% endif %}>Séries</a>
            </div> -->
        </div>


    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash-msg {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" action="{% if tipo == 'filme' %}{{ url_for('atualizar_filme', id=item.id) }}{% else %}{{ url_for('atualizar_serie', id=item.id) }}{% endif %}">
        <h2>Atualizar {{ tipo|capitalize }}</h2>

        <label for="titulo">Título *</label>
        <input type="text" id="titulo" name="titulo" value="{{ item.titulo }}" required />

        <label for="ano_lancamento">Ano de Lançamento *</label>
        <input type="number" id="ano_lancamento" name="ano_lancamento" min="1800" max="2100" value="{{ item.ano_lancamento }}" required />

        <label for="genero">Gênero *</label>
        <input type="text" id="genero" name="genero" value="{{ item.genero }}" required />

        <label for="sinopse">Sinopse</label>
        <textarea id="sinopse" name="sinopse" rows="3">{{ item.sinopse }}</textarea>

        <label for="diretor_criador">Diretor / Criador</label>
        <input type="text" id="diretor_criador" name="diretor_criador" value="{{ item.diretor_criador }}" />

        <label for="descricao">Descrição</label>
        <textarea id="descricao" name="descricao" rows="2">{{ item.descricao }}</textarea>

        <label for="url_imagem">URL da Imagem</label>
        <input type="text" id="url_imagem" name="url_imagem" placeholder="https://exemplo.com/imagem.jpg" value="{{ item.url_imagem }}" />

        <button type="submit">Atualizar {{ tipo|capitalize }}</button>
    </form>
</body>
</html>
